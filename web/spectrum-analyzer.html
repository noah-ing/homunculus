<!DOCTYPE html><html><head><title>üìä Audio Spectrum Analyzer - HOMUNCULUS</title><style>body{margin:0;padding:20px;background:linear-gradient(135deg,#0c0c0c,#1a1a2e);font-family:monospace;color:white;text-align:center}#analyzer{max-width:800px;margin:0 auto;background:rgba(0,0,0,0.5);padding:20px;border-radius:15px}canvas{border:2px solid #333;border-radius:10px;background:black}#controls{margin:20px 0}.control-btn{padding:10px 20px;margin:5px;background:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer;font-size:14px}.control-btn:hover{background:#45a049}.control-btn.active{background:#FFD700;color:black}select,input{margin:5px;padding:5px;background:#333;color:white;border:1px solid #666;border-radius:3px}#status{margin:10px 0;font-size:16px}</style></head><body>
<h1>üìä AUDIO SPECTRUM ANALYZER</h1><div id="analyzer"><div id="status">üé§ Click "Start Microphone" to begin!</div><canvas id="canvas" width="760" height="400"></canvas><div id="controls"><button class="control-btn" onclick="startMicrophone()" id="micBtn">üé§ Start Microphone</button><button class="control-btn" onclick="stopAnalysis()">‚èπÔ∏è Stop</button><select onchange="changeVisualization()" id="vizMode"><option value="bars">üìä Frequency Bars</option><option value="circle">‚≠ï Circular Spectrum</option><option value="waveform">„Ä∞Ô∏è Waveform</option></select><select onchange="changeColorTheme()" id="colorTheme"><option value="rainbow">üåà Rainbow</option><option value="fire">üî• Fire</option><option value="ocean">üåä Ocean</option><option value="neon">‚ö° Neon</option></select></div><div style="margin:10px">Sensitivity: <input type="range" min="1" max="10" value="5" onchange="setSensitivity(this.value)" id="sensitivity"> Smoothing: <input type="range" min="0" max="0.9" step="0.1" value="0.8" onchange="setSmoothing(this.value)" id="smoothing"></div></div>
<script>const canvas=document.getElementById("canvas");const ctx=canvas.getContext("2d");let audioContext,analyser,microphone,dataArray;let animationId;let isAnalyzing=false;let vizMode="bars";let colorTheme="rainbow";let sensitivity=5;let smoothing=0.8;</script>
<script>async function startMicrophone(){try{audioContext=new(window.AudioContext||window.webkitAudioContext)();const stream=await navigator.mediaDevices.getUserMedia({audio:true});microphone=audioContext.createMediaStreamSource(stream);analyser=audioContext.createAnalyser();analyser.fftSize=256;analyser.smoothingTimeConstant=smoothing;microphone.connect(analyser);dataArray=new Uint8Array(analyser.frequencyBinCount);isAnalyzing=true;document.getElementById("status").innerHTML="üé§ Listening... Make some noise!";document.getElementById("micBtn").innerHTML="üé§ Active";visualize()}catch(err){document.getElementById("status").innerHTML="‚ùå Microphone access denied. Please allow microphone access!"}}function stopAnalysis(){isAnalyzing=false;if(animationId)cancelAnimationFrame(animationId);if(microphone)microphone.disconnect();document.getElementById("status").innerHTML="‚èπÔ∏è Analysis stopped";document.getElementById("micBtn").innerHTML="üé§ Start Microphone"}</script>
<script>function visualize(){if(!isAnalyzing)return;analyser.getByteFrequencyData(dataArray);ctx.fillStyle="rgba(0,0,0,0.1)";ctx.fillRect(0,0,canvas.width,canvas.height);if(vizMode==="bars"){drawFrequencyBars()}else if(vizMode==="circle"){drawCircularSpectrum()}else if(vizMode==="waveform"){drawWaveform()}animationId=requestAnimationFrame(visualize)}function drawFrequencyBars(){const barWidth=canvas.width/dataArray.length*2;let x=0;for(let i=0;i<dataArray.length;i++){const barHeight=(dataArray[i]/255)*canvas.height*sensitivity/5;const color=getColor(i,dataArray[i]);ctx.fillStyle=color;ctx.fillRect(x,canvas.height-barHeight,barWidth,barHeight);x+=barWidth+1}}</script>
<script>function drawCircularSpectrum(){const centerX=canvas.width/2;const centerY=canvas.height/2;const radius=150;for(let i=0;i<dataArray.length;i++){const angle=(i/dataArray.length)*Math.PI*2;const barHeight=(dataArray[i]/255)*100*sensitivity/5;const x1=centerX+Math.cos(angle)*radius;const y1=centerY+Math.sin(angle)*radius;const x2=centerX+Math.cos(angle)*(radius+barHeight);const y2=centerY+Math.sin(angle)*(radius+barHeight);const color=getColor(i,dataArray[i]);ctx.strokeStyle=color;ctx.lineWidth=3;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke()}}function drawWaveform(){ctx.strokeStyle="#FFD700";ctx.lineWidth=2;ctx.beginPath();let x=0;const sliceWidth=canvas.width/dataArray.length;for(let i=0;i<dataArray.length;i++){const v=dataArray[i]/128.0;const y=v*canvas.height/2;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y);x+=sliceWidth}ctx.stroke()}</script>
0.8)`}else if(colorTheme==="ocean"){const blue=255;const green=Math.floor(intensity*200);const red=Math.floor(intensity*100);return`rgba(${red},${green},${blue},0.8)`}else if(colorTheme==="neon"){const hue=(index/dataArray.length)*360;return`hsla(${hue},100%,${intensity*100}%,1)`}return"#FFD700"}
function changeVisualization(){vizMode=document.getElementById("vizMode").value}function changeColorTheme(){colorTheme=document.getElementById("colorTheme").value}function setSensitivity(value){sensitivity=value}function setSmoothing(value){smoothing=value;if(analyser)analyser.smoothingTimeConstant=smoothing}
</script><p><a href="games.html" style="color:#FFD700">üéÆ Back to Game Center</a> | <a href="index.html" style="color:#4CAF50">üè† Home</a></p></body></html>
