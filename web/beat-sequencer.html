<!DOCTYPE html><html><head><title>üéµ Beat Sequencer Pro - HOMUNCULUS</title><style>body{margin:0;padding:20px;background:linear-gradient(135deg,#1e3c72,#2a5298);font-family:monospace;color:white}#sequencer{max-width:1200px;margin:0 auto;background:rgba(0,0,0,0.4);padding:30px;border-radius:15px}.track{display:flex;align-items:center;margin:10px 0;padding:10px;background:rgba(255,255,255,0.1);border-radius:8px}.track-name{width:80px;font-weight:bold}.step{width:40px;height:40px;margin:2px;border:2px solid #666;background:#333;cursor:pointer;border-radius:5px;transition:all 0.2s}.step.active{background:#4CAF50;border-color:#4CAF50}.step.playing{border-color:#FFD700;box-shadow:0 0 10px #FFD700}.volume{width:100px;margin-left:10px}#controls{text-align:center;margin:20px 0}button{padding:10px 20px;margin:5px;background:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer;font-size:16px}button:hover{background:#45a049}#bpm{font-size:18px;margin:20px 0}</style></head><body>
<h1>üéµ BEAT SEQUENCER PRO</h1><div id="sequencer"><div id="controls"><button id="playBtn" onclick="togglePlay()">‚ñ∂Ô∏è Play</button><button onclick="stopSequencer()">‚èπÔ∏è Stop</button><button onclick="clearPattern()">üóëÔ∏è Clear</button><select onchange="loadPreset()" id="presetSelect"><option value="">Choose Preset</option><option value="rock">üé∏ Rock Beat</option><option value="hiphop">üé§ Hip-Hop</option><option value="techno">üéõÔ∏è Techno</option><option value="jazz">üé∑ Jazz</option></select></div><div id="bpm">BPM: <input type="range" min="60" max="180" value="120" onchange="setBPM(this.value)" id="bpmSlider"> <span id="bpmValue">120</span></div><div id="tracks"></div><button onclick="savePattern()" style="margin:20px">üíæ Save Pattern</button><button onclick="loadPattern()" style="margin:20px">üìÇ Load Pattern</button></div>
<script>const audioContext=new(window.AudioContext||window.webkitAudioContext)();const tracks=["Kick","Snare","HiHat","OpenHat","Crash","Ride","Clap","Perc"];const sounds={};let isPlaying=false;let currentStep=0;let bpm=120;let interval;let pattern=Array(8).fill().map(()=>Array(16).fill(false));let volumes=Array(8).fill(0.7);</script>
<script>async function createDrumSounds(){const frequencies=[60,200,800,1200,300,400,220,150];tracks.forEach((name,i)=>{const oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();const filter=audioContext.createBiquadFilter();oscillator.frequency.setValueAtTime(frequencies[i],audioContext.currentTime);oscillator.type=i===0?"sawtooth":"square";filter.type=i<2?"lowpass":"highpass";filter.frequency.setValueAtTime(frequencies[i]*2,audioContext.currentTime);sounds[name]={freq:frequencies[i],type:oscillator.type,filterType:filter.type}})}function playSound(trackIndex){const track=tracks[trackIndex];const sound=sounds[track];const oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();const filter=audioContext.createBiquadFilter();oscillator.connect(filter);filter.connect(gainNode);gainNode.connect(audioContext.destination);oscillator.frequency.setValueAtTime(sound.freq,audioContext.currentTime);oscillator.type=sound.type;filter.type=sound.filterType;filter.frequency.setValueAtTime(sound.freq*2,audioContext.currentTime);gainNode.gain.setValueAtTime(volumes[trackIndex],audioContext.currentTime);gainNode.gain.exponentialRampToValueAtTime(0.001,audioContext.currentTime+0.2);oscillator.start(audioContext.currentTime);oscillator.stop(audioContext.currentTime+0.2)}</script>
<script>function createSequencer(){const container=document.getElementById("tracks");tracks.forEach((name,trackIndex)=>{const trackDiv=document.createElement("div");trackDiv.className="track";trackDiv.innerHTML=`<div class="track-name">${name}</div>`;for(let step=0;step<16;step++){const stepDiv=document.createElement("div");stepDiv.className="step";stepDiv.onclick=()=>toggleStep(trackIndex,step);trackDiv.appendChild(stepDiv)}const volumeSlider=document.createElement("input");volumeSlider.type="range";volumeSlider.min="0";volumeSlider.max="1";volumeSlider.step="0.1";volumeSlider.value="0.7";volumeSlider.className="volume";volumeSlider.onchange=()=>volumes[trackIndex]=parseFloat(volumeSlider.value);trackDiv.appendChild(volumeSlider);container.appendChild(trackDiv)})}function toggleStep(track,step){pattern[track][step]=!pattern[track][step];updateVisual()}function updateVisual(){const trackElements=document.querySelectorAll(".track");trackElements.forEach((trackEl,trackIndex)=>{const steps=trackEl.querySelectorAll(".step");steps.forEach((stepEl,stepIndex)=>{stepEl.classList.toggle("active",pattern[trackIndex][stepIndex]);stepEl.classList.toggle("playing",stepIndex===currentStep&&isPlaying)})})}</script>
trackIndex)}});currentStep=(currentStep+1)%16;updateVisual();interval=setTimeout(playStep,60000/bpm/4)}function setBPM(newBPM){bpm=newBPM;document.getElementById("bpmValue").textContent=newBPM}function clearPattern(){pattern=Array(8).fill().map(()=>Array(16).fill(false));updateVisual()}
function loadPreset(){const presets={rock:[[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],hiphop:[[1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[1,0,1,0,0,0,1,0,1,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0],[1,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0]],techno:[[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]],jazz:[[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,1],[1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]]};const preset=document.getElementById("presetSelect").value;if(presets[preset]){pattern=presets[preset];updateVisual()}}
function savePattern(){const name=prompt("Name your beat pattern:");if(name){const saved=JSON.parse(localStorage.getItem("beatPatterns")||"{}");saved[name]={pattern:pattern,bpm:bpm,volumes:volumes};localStorage.setItem("beatPatterns",JSON.stringify(saved));alert("Pattern saved as: "+name)}}function loadPattern(){const saved=JSON.parse(localStorage.getItem("beatPatterns")||"{}");const names=Object.keys(saved);if(names.length===0){alert("No saved patterns!");return}const choice=prompt("Load pattern:
"+names.join("
")+"

Enter name:");if(saved[choice]){pattern=saved[choice].pattern;bpm=saved[choice].bpm||120;volumes=saved[choice].volumes||Array(8).fill(0.7);document.getElementById("bpmSlider").value=bpm;document.getElementById("bpmValue").textContent=bpm;updateVisual()}}
createDrumSounds();createSequencer();updateVisual();</script><p><a href="games.html" style="color:#FFD700">üéÆ Back to Game Center</a></p></body></html>
